<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. P2P Handbook</a>
<ul>
<li><a href="#sec-1-1">1.1. Inspiration</a></li>
<li><a href="#sec-1-2">1.2. Topics</a>
<ul>
<li><a href="#sec-1-2-1">1.2.1. goal</a></li>
<li><a href="#sec-1-2-2">1.2.2. CAP theorum</a></li>
<li><a href="#sec-1-2-3">1.2.3. p2p roles</a></li>
<li><a href="#sec-1-2-4">1.2.4. identity</a></li>
<li><a href="#sec-1-2-5">1.2.5. peer discovery</a></li>
<li><a href="#sec-1-2-6">1.2.6. swarm / topology</a></li>
<li><a href="#sec-1-2-7">1.2.7. streams</a></li>
<li><a href="#sec-1-2-8">1.2.8. content routing</a></li>
<li><a href="#sec-1-2-9">1.2.9. p2p data structures</a></li>
<li><a href="#sec-1-2-10">1.2.10. protocol</a></li>
<li><a href="#sec-1-2-11">1.2.11. awesome p2p modules</a></li>
</ul>
</li>
<li><a href="#sec-1-3">1.3. Outline</a>
<ul>
<li><a href="#sec-1-3-1">1.3.1. introduction</a></li>
<li><a href="#sec-1-3-2">1.3.2. what is p2p / why p2p</a></li>
<li><a href="#sec-1-3-3">1.3.3. why node/js</a></li>
<li><a href="#sec-1-3-4">1.3.4. basics</a></li>
<li><a href="#sec-1-3-5">1.3.5. &#x2026;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

# P2P Handbook<a id="sec-1" name="sec-1"></a>

## Inspiration<a id="sec-1-1" name="sec-1-1"></a>

-   <https://github.com/mafintosh/p2p-workshop>
-   <https://github.com/substack/stream-handbook>
-   <https://github.com/ipfs/specs/tree/master/libp2p>

## Topics<a id="sec-1-2" name="sec-1-2"></a>

### goal<a id="sec-1-2-1" name="sec-1-2-1"></a>

to bridge the gap between where p2p modules in node are today and the big abstractions that libp2p/ipfs are bringing forward

### CAP theorum<a id="sec-1-2-2" name="sec-1-2-2"></a>

### p2p roles<a id="sec-1-2-3" name="sec-1-2-3"></a>

identity, discovery, topology, routing, protocol

### identity<a id="sec-1-2-4" name="sec-1-2-4"></a>

-   how a peer uniquely identifies itself, encrypts messages, and proves it authored content
-   generally a keypair; generally generated by each node individually (no central store dependency)

### peer discovery<a id="sec-1-2-5" name="sec-1-2-5"></a>

given a key, find peers

1.  sub-topics

    -   NAT hole-punching
    -   relaying
    -   bootstrapping

2.  examples

    1.  bittorrent dht
    
        also: random walk, if all peers are compatible
    
    2.  signalhub
    
    3.  mdns

### swarm / topology<a id="sec-1-2-6" name="sec-1-2-6"></a>

the topology of peers in the network

1.  structured

2.  unstructured

    signalhub
    fully-connected-topology

### streams<a id="sec-1-2-7" name="sec-1-2-7"></a>

the ultimate transport-agnostic abstraction

### content routing<a id="sec-1-2-8" name="sec-1-2-8"></a>

given a message, figure out which peers to route it to

1.  examples

    1.  gossip
    
        1.  secure-gossip
        
        2.  hyperlog / ssb (anti-entropy)

### p2p data structures<a id="sec-1-2-9" name="sec-1-2-9"></a>

data structures well suited to an unreliable network with untrusted peers

1.  crdts

2.  merkle dags

    1.  ipfs
    
    2.  blockchain

3.  append-only logs

    1.  hyperlog

### protocol<a id="sec-1-2-10" name="sec-1-2-10"></a>

what messages the peers of the network agree to exchange

### awesome p2p modules<a id="sec-1-2-11" name="sec-1-2-11"></a>

-   signalhub (peer discovery)
-   hyperlog (identity, data structure, protocol)
-   discovery-channel (peer discovery)
-   discovery-swarm (peer discovery + content routing + swarm)
-   bittorrent-dht (peer discovery + swarm)
-   ssb-keys (identity)
-   pubsub-swarm (identity, peer discovery, swarm, content routing)
-   secure-gossip (content routing, protocol)

## Outline<a id="sec-1-3" name="sec-1-3"></a>

### introduction<a id="sec-1-3-1" name="sec-1-3-1"></a>

### what is p2p / why p2p<a id="sec-1-3-2" name="sec-1-3-2"></a>

### why node/js<a id="sec-1-3-3" name="sec-1-3-3"></a>

### basics<a id="sec-1-3-4" name="sec-1-3-4"></a>

### &#x2026;<a id="sec-1-3-5" name="sec-1-3-5"></a>
